import{_ as e,c as i,a,o as t}from"./app-D7GTOmel.js";const n={};function p(l,s){return t(),i("div",null,s[0]||(s[0]=[a(`<h2 id="现象" tabindex="-1"><a class="header-anchor" href="#现象"><span>现象</span></a></h2><p>刚开始在 <code>xshell</code> 里不能登陆，我以为我服务器被搞了， 后来用 <code>vnc</code> 连了一下，在登陆成功的一瞬间被弹出了.</p><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h2><p>突然想起来，前几天改了默认 <code>shell</code> 可能是这个问题.</p><h2 id="恢复方法" tabindex="-1"><a class="header-anchor" href="#恢复方法"><span>恢复方法</span></a></h2><p>把服务器进入 <code>Recovery Mode</code></p><p>把装了服务器的硬盘挂载好，下面是示例，硬盘的标识大概率不同，请自行修改</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/vdb1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --bind</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /proc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /mnt/proc/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --bind</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /mnt/dev</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --bind</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /sys</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /mnt/sys</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chroot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /mnt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改 <code>/etc/passwd</code> 中的默认 shell</p><p><img src="https://img.huankong.top/i/2023/05/12/645dc90f8bf53.png" alt="1683867918568.png"></p><p>如图中的最后一段，把 <code>/bin/zsh</code> 改成 <code>/bin/bash</code> 即可.</p><p>修改完成后重启服务器即可恢复.</p>`,12)]))}const r=e(n,[["render",p]]),d=JSON.parse('{"path":"/article/65mt1pi3/","title":"终端无法登陆","lang":"zh-CN","frontmatter":{"title":"终端无法登陆","createTime":"2023/07/02 00:27:47","permalink":"/article/65mt1pi3/","tags":["电脑","linux"],"description":"现象 刚开始在 xshell 里不能登陆，我以为我服务器被搞了， 后来用 vnc 连了一下，在登陆成功的一瞬间被弹出了. 问题 突然想起来，前几天改了默认 shell 可能是这个问题. 恢复方法 把服务器进入 Recovery Mode 把装了服务器的硬盘挂载好，下面是示例，硬盘的标识大概率不同，请自行修改 修改 /etc/passwd 中的默认 sh...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"终端无法登陆\\",\\"image\\":[\\"https://img.huankong.top/i/2023/05/12/645dc90f8bf53.png\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://blog.huankong.top/article/65mt1pi3/"}],["meta",{"property":"og:site_name","content":"幻空博客"}],["meta",{"property":"og:title","content":"终端无法登陆"}],["meta",{"property":"og:description","content":"现象 刚开始在 xshell 里不能登陆，我以为我服务器被搞了， 后来用 vnc 连了一下，在登陆成功的一瞬间被弹出了. 问题 突然想起来，前几天改了默认 shell 可能是这个问题. 恢复方法 把服务器进入 Recovery Mode 把装了服务器的硬盘挂载好，下面是示例，硬盘的标识大概率不同，请自行修改 修改 /etc/passwd 中的默认 sh..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.huankong.top/i/2023/05/12/645dc90f8bf53.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:tag","content":"电脑"}]]},"readingTime":{"minutes":0.63,"words":189},"git":{},"autoDesc":true,"filePathRelative":"电脑/linux/终端无法登陆.md","headers":[],"categoryList":[{"id":"e85597","sort":10012,"name":"电脑"},{"id":"3e3f54","sort":10013,"name":"linux"}]}');export{r as comp,d as data};
